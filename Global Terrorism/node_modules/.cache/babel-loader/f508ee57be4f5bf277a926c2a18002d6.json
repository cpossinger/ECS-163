{"remainingRequest":"/home/cam/Documents/ECS 163/Homework 4/node_modules/babel-loader/lib/index.js!/home/cam/Documents/ECS 163/Homework 4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cam/Documents/ECS 163/Homework 4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cam/Documents/ECS 163/Homework 4/src/components/View1.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cam/Documents/ECS 163/Homework 4/src/components/View1.vue","mtime":1612375034988},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgX3R5cGVvZiBmcm9tICIvaG9tZS9jYW0vRG9jdW1lbnRzL0VDUyAxNjMvSG9tZXdvcmsgNC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdHlwZW9mIjsKaW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvaG9tZS9jYW0vRG9jdW1lbnRzL0VDUyAxNjMvSG9tZXdvcmsgNC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbWFwYm94Z2wgZnJvbSAibWFwYm94LWdsIjsKaW1wb3J0ICogYXMgZDMgZnJvbSAiZDMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRhcmtNYXAiLAogIHByb3BzOiB7CiAgICBkYXRhc2V0OiB7CiAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICB0eXBlOiBBcnJheQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjY2Vzc1Rva2VuOiAicGsuZXlKMUlqb2lZM0J2YzNOcGJtZGxjaUlzSW1FaU9pSmphMnRxTUhWNWJqRXhOSEl6TW5WdWR6YzFieko0ZFdob0luMC41M2czeFMxN09OUTgweHlHODBGenB3IiwKICAgICAgbWFwOiBudWxsLAogICAgICBjb250YWluZXI6IG51bGwsCiAgICAgIHN2ZzogbnVsbCwKICAgICAgZG90czogbnVsbCwKICAgICAgZmlsdGVyZWRfZGF0YXNldDogdGhpcy5kYXRhc2V0LAogICAgICBlbGVtZW50OiBudWxsLAogICAgICBzZWxlY3RlZDogIjIwMTAiLAogICAgICBvcHRpb25zOiBfdG9Db25zdW1hYmxlQXJyYXkobmV3IFNldCh0aGlzLmRhdGFzZXQubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaXllYXI7CiAgICAgIH0pKSksCiAgICAgIGJydXNoOiBudWxsCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgaW5pdDogZnVuY3Rpb24gaW5pdCgpIHsKICAgICAgbWFwYm94Z2wuYWNjZXNzVG9rZW4gPSB0aGlzLmFjY2Vzc1Rva2VuOwogICAgICB0aGlzLm1hcCA9IG5ldyBtYXBib3hnbC5NYXAoewogICAgICAgIGNvbnRhaW5lcjogIm1hcENvbnRhaW5lciIsCiAgICAgICAgc3R5bGU6ICJtYXBib3g6Ly9zdHlsZXMvY3Bvc3Npbmdlci9ja2tqM2s3NDkxY29vMTdyeDZleTlnYTY3IiwKICAgICAgICB6b29tOiAyCiAgICAgIH0pOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMubWFwLm9uKCJ2aWV3cmVzZXQiLCBzZWxmLnJlbmRlcik7CiAgICAgIHRoaXMubWFwLm9uKCJtb3ZlIiwgc2VsZi5yZW5kZXIpOwogICAgICB0aGlzLm1hcC5vbigibW92ZWVuZCIsIHNlbGYucmVuZGVyKTsKICAgICAgZDMuc2VsZWN0QWxsKCIubWFwYm94Z2wtY2FudmFzIikuc3R5bGUoIm9wYWNpdHkiLCAxKS5zdHlsZSgicG9zaXRpb24iLCAiYWJzb2x1dGUiKS5zdHlsZSgiei1pbmRleCIsIDEpOwogICAgICB0aGlzLmluaXQyKCk7CiAgICB9LAogICAgaW5pdDI6IGZ1bmN0aW9uIGluaXQyKCkgewogICAgICB0aGlzLmNvbnRhaW5lciA9IHRoaXMubWFwLmdldENhbnZhc0NvbnRhaW5lcigpOwogICAgICBkMy5zZWxlY3QoIiNtYXBDb250YWluZXIiKS5jYWxsKGQzLmJydXNoKCkgLy8gQWRkIHRoZSBicnVzaCBmZWF0dXJlIHVzaW5nIHRoZSBkMy5icnVzaCBmdW5jdGlvbgogICAgICAuZXh0ZW50KFtbMCwgMF0sIFs0MDAsIDQwMF1dKSk7CiAgICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KHRoaXMuY29udGFpbmVyKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgIjEwMCUiKS5hdHRyKCJoZWlnaHQiLCAiMjAwMCIpLnN0eWxlKCJwb3NpdGlvbiIsICJhYnNvbHV0ZSIpLnN0eWxlKCJ6LWluZGV4IiwgMTApOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmZpbHRlcmVkX2RhdGFzZXQpOwogICAgICB0aGlzLmRvdHMgPSB0aGlzLnN2Zy5zZWxlY3RBbGwoImNpcmNsZSIpLmRhdGEodGhpcy5maWx0ZXJlZF9kYXRhc2V0KS5lbnRlcigpLmFwcGVuZCgiY2lyY2xlIikuYXR0cigiY2xhc3MiLCAiY2lyY2xlIikuYXR0cigiciIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIGQubmtpbGwgLyAyMDsKICAgICAgfSkuc3R5bGUoIm9wYWNpdHkiLCAwLjcpLnN0eWxlKCJmaWxsIiwgIiNmZjM2MzYiKTsKICAgICAgdGhpcy5yZW5kZXIoKTsKICAgIH0sCiAgICBwcm9qZWN0aW9uOiBmdW5jdGlvbiBwcm9qZWN0aW9uKGQpIHsKICAgICAgY29uc29sZS5sb2coInByb2plY3Rpb24iKTsKICAgICAgdmFyIHNlbGYgPSB0aGlzOyAvL3ZhciBtYXAgPSBzZWxmLm1hcDsKCiAgICAgIGNvbnNvbGUubG9nKF90eXBlb2YoZC5sb25naXR1ZGUpKTsKICAgICAgcmV0dXJuIHNlbGYubWFwLnByb2plY3QobmV3IG1hcGJveGdsLkxuZ0xhdChkLmxvbmdpdHVkZSwgZC5sYXRpdHVkZSkpOwogICAgfSwKICAgIHJlbmRlcjogZnVuY3Rpb24gcmVuZGVyKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIGNvbnNvbGUubG9nKCJSZW5kZXJlZCIpOwogICAgICBkMy5zZWxlY3RBbGwoIi5jaXJjbGUiKS5hdHRyKCJjeCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHNlbGYucHJvamVjdGlvbihkKS54OwogICAgICB9KS5hdHRyKCJjeSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHNlbGYucHJvamVjdGlvbihkKS55OwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["View1.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- Your HTML goes here -->\n<template>\n  <div>\n  <select  v-model=\"selected\" >\n    <option value=\"\">All Years</option>\n    <option v-for=\"option in options\" v-bind:key=\"option\" v-bind:value=\"option\">\n      {{ option }}\n    </option>\n  </select>\n  <span>Selected: {{ selected }}</span>\n  <div id=\"mapContainer\" class=\"darkmap\" ></div>\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\"\nimport * as d3 from \"d3\";\n\nexport default {\n  name: \"DarkMap\",\n  props: {\n    dataset: {\n      required: true,\n      type: Array\n    }\n\n  },\n    data() {\n      return {\n        accessToken: \"pk.eyJ1IjoiY3Bvc3NpbmdlciIsImEiOiJja2tqMHV5bjExNHIzMnVudzc1bzJ4dWhoIn0.53g3xS17ONQ80xyG80Fzpw\",\n        map: null,\n        container: null,\n        svg: null,\n        dots: null,\n        filtered_dataset: this.dataset,\n        element: null,\n        selected: \"2010\",\n        options: [...new Set(this.dataset.map(item => item.iyear))],\n        brush: null\n      };\n    },\n    mounted() {\n      this.init();\n    },\n    methods: {\n      init() {\n        mapboxgl.accessToken = this.accessToken;\n\n        this.map = new mapboxgl.Map({\n          container: \"mapContainer\",\n          style: \"mapbox://styles/cpossinger/ckkj3k7491coo17rx6ey9ga67\",\n          zoom: 2,\n        });\n\n        var self = this;\n        this.map.on(\"viewreset\", self.render);\n        this.map.on(\"move\", self.render);\n        this.map.on(\"moveend\", self.render);\n\n        d3.selectAll(\".mapboxgl-canvas\")\n            .style(\"opacity\", 1)\n            .style(\"position\", \"absolute\")\n            .style(\"z-index\", 1)\n\n        this.init2();\n\n      },\n\n      init2() {\n\n\n        this.container = this.map.getCanvasContainer();\n\n        d3.select(\"#mapContainer\")\n            .call( d3.brush()                     // Add the brush feature using the d3.brush function\n                .extent( [ [0,0], [400,400] ] ));\n\n        this.svg = d3\n            .select(this.container)\n            .append(\"svg\")\n            .attr(\"width\", \"100%\")\n            .attr(\"height\", \"2000\")\n            .style(\"position\", \"absolute\")\n            .style(\"z-index\", 10);\n\n\n        console.log(this.filtered_dataset);\n\n        this.dots = this.svg\n            .selectAll(\"circle\")\n            .data(this.filtered_dataset)\n            .enter()\n            .append(\"circle\")\n            .attr(\"class\", \"circle\")\n            .attr(\"r\", d => d.nkill / 20)\n            .style(\"opacity\", 0.7)\n            .style(\"fill\", \"#ff3636\")\n\n\n        this.render();\n      },\n\n\n      projection: function (d) {\n        console.log(\"projection\");\n        var self = this;\n        //var map = self.map;\n        console.log(typeof d.longitude);\n        return self.map.project(new mapboxgl.LngLat(d.longitude, d.latitude));\n      },\n\n      render() {\n        var self = this;\n\n        console.log(\"Rendered\");\n        d3.selectAll(\".circle\")\n            .attr(\"cx\", function (d) {\n              return self.projection(d).x;\n            })\n            .attr(\"cy\", function (d) {\n              return self.projection(d).y;\n            });\n\n      },\n\n\n    },\n  }\n\n\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#mapContainer {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 0;\n}\n</style>"],"sourceRoot":"src/components"}]}