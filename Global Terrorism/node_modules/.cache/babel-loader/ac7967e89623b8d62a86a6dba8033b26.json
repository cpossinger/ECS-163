{"remainingRequest":"/home/cam/Documents/ECS 163/Homework 4/node_modules/babel-loader/lib/index.js!/home/cam/Documents/ECS 163/Homework 4/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/cam/Documents/ECS 163/Homework 4/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/cam/Documents/ECS 163/Homework 4/src/components/View1.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/cam/Documents/ECS 163/Homework 4/src/components/View1.vue","mtime":1612368364531},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/cam/Documents/ECS 163/Homework 4/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnNldC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIi9ob21lL2NhbS9Eb2N1bWVudHMvRUNTIDE2My9Ib21ld29yayA0L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtYXBib3hnbCBmcm9tICJtYXBib3gtZ2wiOwppbXBvcnQgKiBhcyBkMyBmcm9tICJkMyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiRGFya01hcCIsCiAgcHJvcHM6IHsKICAgIGRhdGFzZXQ6IHsKICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgIHR5cGU6IEFycmF5CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjZXNzVG9rZW46ICJway5leUoxSWpvaVkzQnZjM05wYm1kbGNpSXNJbUVpT2lKamEydHFNSFY1YmpFeE5ISXpNblZ1ZHpjMWJ6SjRkV2hvSW4wLjUzZzN4UzE3T05RODB4eUc4MEZ6cHciLAogICAgICBtYXA6IG51bGwsCiAgICAgIGNvbnRhaW5lcjogbnVsbCwKICAgICAgc3ZnOiBudWxsLAogICAgICBkb3RzOiBudWxsLAogICAgICBmaWx0ZXJlZF9kYXRhc2V0OiB0aGlzLmRhdGFzZXQsCiAgICAgIHNlbGVjdGVkOiAiMjAxMCIsCiAgICAgIG9wdGlvbnM6IF90b0NvbnN1bWFibGVBcnJheShuZXcgU2V0KHRoaXMuZGF0YXNldC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5peWVhcjsKICAgICAgfSkpKSwKICAgICAgZWxlbWVudDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGluaXQ6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBtYXBib3hnbC5hY2Nlc3NUb2tlbiA9IHRoaXMuYWNjZXNzVG9rZW47CiAgICAgIHRoaXMubWFwID0gbmV3IG1hcGJveGdsLk1hcCh7CiAgICAgICAgY29udGFpbmVyOiAibWFwQ29udGFpbmVyIiwKICAgICAgICBzdHlsZTogIm1hcGJveDovL3N0eWxlcy9jcG9zc2luZ2VyL2Nra2ozazc0OTFjb28xN3J4NmV5OWdhNjciLAogICAgICAgIHpvb206IDIKICAgICAgfSk7CiAgICAgIHRoaXMubWFwLm9uKCJ2aWV3cmVzZXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMucmVuZGVyKCk7CiAgICAgIH0pOwogICAgICB0aGlzLm1hcC5vbigibW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5yZW5kZXIoKTsKICAgICAgfSk7CiAgICAgIHRoaXMubWFwLm9uKCJtb3ZlZW5kIiwgZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLnJlbmRlcigpOwogICAgICB9KTsKICAgICAgLyoKICAgICAgZDMuc2VsZWN0QWxsKCIubWFwYm94Z2wtY2FudmFzIikKICAgICAgLnN0eWxlKCJvcGFjaXR5IiwgMSkKICAgICAgLnN0eWxlKCJwb3NpdGlvbiIsImFic29sdXRlIikKICAgICAgLnN0eWxlKCJ6LWluZGV4IiwxKQogICAgICAgKi8KCiAgICAgIHRoaXMuY29udGFpbmVyID0gdGhpcy5tYXAuZ2V0Q2FudmFzQ29udGFpbmVyKCk7CiAgICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KHRoaXMuY29udGFpbmVyKS5hcHBlbmQoInN2ZyIpLmF0dHIoIndpZHRoIiwgIjEwMCUiKS5hdHRyKCJoZWlnaHQiLCAiODAwIikuc3R5bGUoInBvc2l0aW9uIiwgImFic29sdXRlIikuc3R5bGUoInotaW5kZXgiLCAxMCk7CiAgICAgIHRoaXMuZG90cyA9IHRoaXMuc3ZnLnNlbGVjdEFsbCgiY2lyY2xlIikuZGF0YSh0aGlzLmZpbHRlcmVkX2RhdGFzZXQpLmVudGVyKCkuYXBwZW5kKCJjaXJjbGUiKS5hdHRyKCJyIiwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZC5ua2lsbCAvIDE1OwogICAgICB9KS5zdHlsZSgib3BhY2l0eSIsIDAuNykuc3R5bGUoImZpbGwiLCAiI2ZmMzYzNiIpOwogICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGFzZXQpOwogICAgICB0aGlzLnJlbmRlcigpOwogICAgfSwKICAgIHByb2plY3Q6IGZ1bmN0aW9uIHByb2plY3QoZCkgewogICAgICBjb25zb2xlLmxvZygicHJvamVjdGlvbiIpOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHZhciBtYXAgPSBzZWxmLm1hcDsKICAgICAgY29uc29sZS5sb2coZCk7CiAgICAgIHJldHVybiBtYXAucHJvamVjdChuZXcgbWFwYm94Z2wuTG5nTGF0KGQubG9uZ2l0dWRlLCBkLmxhdGl0dWRlKSk7CiAgICB9LAogICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgY29uc29sZS5sb2coIlJlbmRlcmVkIik7CiAgICAgIHRoaXMuZG90cy5hdHRyKCJjeCIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHNlbGYucHJvamVjdChkKS54OwogICAgICB9KS5hdHRyKCJjeSIsIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgcmV0dXJuIHNlbGYucHJvamVjdChkKS55OwogICAgICB9KTsKICAgIH0sCiAgICBkeW5GaWx0ZXI6IGZ1bmN0aW9uIGR5bkZpbHRlcigpIHsKICAgICAgY29uc29sZS5sb2coImZpbHRlcmVkIik7CgogICAgICBpZiAodGhpcy5zZWxlY3RlZCA9PT0gIiIpIHsKICAgICAgICB0aGlzLmZpbHRlcmVkX2RhdGFzZXQgPSB0aGlzLmRhdGFzZXQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgIHRoaXMuZmlsdGVyZWRfZGF0YXNldCA9IHRoaXMuZGF0YXNldC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgIHJldHVybiBkLml5ZWFyID09PSBzZWxmLnNlbGVjdGVkOwogICAgICAgIH0pOwogICAgICB9CgogICAgICB0aGlzLmluaXQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["View1.vue"],"names":[],"mappings":"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","sourcesContent":["<!-- Your HTML goes here -->\n<template>\n  <div>\n    <select  v-model=\"selected\" @change=\"dynFilter\">\n      <option value=\"\">All Years</option>\n      <option v-for=\"option in options\" v-bind:key=\"option\" v-bind:value=\"option\">\n        {{ option }}\n      </option>\n    </select>\n    <span>Selected: {{ selected }}</span>\n\n  <div id=\"mapContainer\" class = \"darkmap\" ></div>\n  </div>\n</template>\n\n<script>\nimport mapboxgl from \"mapbox-gl\"\nimport * as d3 from \"d3\";\n\nexport default {\n  name: \"DarkMap\",\n  props: {\n    dataset: {\n      required: true,\n      type: Array\n    }\n  },\n  data() {\n    return {\n      accessToken: \"pk.eyJ1IjoiY3Bvc3NpbmdlciIsImEiOiJja2tqMHV5bjExNHIzMnVudzc1bzJ4dWhoIn0.53g3xS17ONQ80xyG80Fzpw\",\n      map: null,\n      container: null,\n      svg: null,\n      dots: null,\n      filtered_dataset: this.dataset,\n      selected: \"2010\",\n      options: [...new Set(this.dataset.map(item => item.iyear))],\n      element: null,\n    };\n  },\n  mounted() {\n   this.init();\n  },\n  methods: {\n    init(){\n      mapboxgl.accessToken = this.accessToken;\n\n      this.map = new mapboxgl.Map({\n        container: \"mapContainer\",\n        style: \"mapbox://styles/cpossinger/ckkj3k7491coo17rx6ey9ga67\",\n        zoom: 2,\n      });\n\n      this.map.on(\"viewreset\", () => {this.render()});\n      this.map.on(\"move\", () => {this.render()});\n      this.map.on(\"moveend\", () => {this.render()});\n\n      /*\n      d3.selectAll(\".mapboxgl-canvas\")\n      .style(\"opacity\", 1)\n      .style(\"position\",\"absolute\")\n      .style(\"z-index\",1)\n       */\n\n      this.container = this.map.getCanvasContainer();\n\n      this.svg = d3\n      .select(this.container)\n      .append(\"svg\")\n      .attr(\"width\",\"100%\")\n      .attr(\"height\",\"800\")\n      .style(\"position\",\"absolute\")\n      .style(\"z-index\",10);\n\n      this.dots = this.svg\n      .selectAll(\"circle\")\n      .data(this.filtered_dataset)\n      .enter()\n      .append(\"circle\")\n      .attr(\"r\", d => d.nkill / 15)\n      .style(\"opacity\",0.7)\n      .style(\"fill\",\"#ff3636\")\n\n      console.log(this.dataset);\n\n      this.render();\n    },\n\n    project: function (d) {\n      console.log(\"projection\");\n      var self = this;\n      var map = self.map;\n      console.log(d);\n      return map.project(new mapboxgl.LngLat(d.longitude, d.latitude));\n    },\n\n    render() {\n      var self = this;\n\n          console.log(\"Rendered\");\n      this.dots\n      .attr(\"cx\",function (d){\n        return self.project(d).x;\n      })\n      .attr(\"cy\",function (d){\n        return self.project(d).y;\n      });\n\n    },\n    dynFilter() {\n      console.log(\"filtered\");\n      if(this.selected === \"\"){\n        this.filtered_dataset = this.dataset;\n      }\n      else{\n        var self = this;\n        this.filtered_dataset = this.dataset.filter(function (d){ return d.iyear === self.selected});\n      }\n      this.init();\n    }\n\n  },\n\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n#mapContainer {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n}\n</style>"],"sourceRoot":"src/components"}]}